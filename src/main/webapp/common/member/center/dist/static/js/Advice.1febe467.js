(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Advice"],{3109:function(t,e,a){"use strict";var s=a("9944"),n=a.n(s);n.a},"590e":function(t,e,a){},9321:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pageModule"},[a("el-pagination",{attrs:{"current-page":t.pageNumber,layout:"total, prev, pager, next, jumper",total:t.total,"hide-on-single-page":!0},on:{"current-change":t.handleCurrentChange}})],1)},n=[],i=(a("a28e"),{data:function(){return{}},props:{total:"",pageNumber:""},computed:{},components:{},created:function(){},methods:{handleCurrentChange:function(t){console.log("当前页: ".concat(t)),this.$emit("update:pageNumber",t),this.$emit("searchMethod")}},watch:{}}),o=i,l=(a("d3e0"),a("2877")),c=Object(l["a"])(o,s,n,!1,null,null,null);e["a"]=c.exports},9944:function(t,e,a){},a35a:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"advice-page"},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:t.$t("advice")}},[a("el-card",{attrs:{shadow:"hover"}},[a("div",{staticClass:"item-icon"},[a("span",{staticClass:"iconfont iconyonghu"})]),a("div",{staticClass:"item-con"},[a("p",{staticClass:"name"},[t._v(t._s(t.$t("onlineCust")))]),a("p",{staticClass:"hint"},[t._v(t._s(t.$t("onlineCustHint")))])]),t.onOffBtn.isOnlineCustClose?t._e():a("a",{staticClass:"item-btn",on:{click:t.goServer}},[a("el-button",{attrs:{type:"primary"}},[t._v(t._s(t.$t("onlineCust")))])],1)]),a("el-card",{attrs:{shadow:"hover"}},[a("div",{staticClass:"item-icon"},[a("span",{staticClass:"iconfont iconyonghu"})]),a("div",{staticClass:"item-con"},[a("p",{staticClass:"name"},[t._v(t._s(t.$t("putAdvice")))]),a("p",{staticClass:"hint"},[t._v(t._s(t.$t("putAdviceHint")))])]),a("div",{staticClass:"item-btn"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.subBtn(t.$t("putAdvice"),1)}}},[t._v(t._s(t.$t("putAdvice")))])],1)]),a("el-card",{attrs:{shadow:"hover"}},[a("div",{staticClass:"item-icon"},[a("span",{staticClass:"iconfont iconyonghu"})]),a("div",{staticClass:"item-con"},[a("p",{staticClass:"name"},[t._v(t._s(t.$t("complain")))]),a("p",{staticClass:"hint"},[t._v(t._s(t.$t("complainHint")))])]),a("div",{staticClass:"item-btn"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.subBtn(t.$t("complain"),2)}}},[t._v(t._s(t.$t("complain")))])],1)])],1),a("el-tab-pane",{attrs:{label:t.$t("feedback")}},[a("div",{staticClass:"searchDiv"},[a("div",{staticClass:"item"},[t._v(" "+t._s(t.$t("status"))+"： "),a("el-select",{attrs:{size:"small"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},t._l(t.typeArr,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("DateModule",{on:{searchMethod:t.searchMethod}})],1),a("el-table",{staticStyle:{width:"99%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"typeTxt",label:t.$t("adviceType")}}),a("el-table-column",{attrs:{prop:"content",label:t.$t("adviceContent")}}),a("el-table-column",{attrs:{prop:"createTime",label:t.$t("adviceTime")}}),a("el-table-column",{attrs:{prop:"finalTime",label:t.$t("finalTime")}}),a("el-table-column",{attrs:{prop:"statusTxt",label:t.$t("status")}}),a("el-table-column",{attrs:{fixed:"right",label:t.$t("operate"),width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleClick(e.row)}}},[t._v(t._s(t.$t("look")))])]}}])})],1),a("PageModule",{attrs:{total:t.total,pageNumber:t.pageNumber},on:{"update:pageNumber":function(e){t.pageNumber=e},"update:page-number":function(e){t.pageNumber=e},searchMethod:t.searchMethod}})],1)],1),t.infoData?a("el-dialog",{staticClass:"info-dialog",attrs:{title:t.$t("info"),visible:t.dialogTableVisible},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[a("div",{staticClass:"oldCont"},[a("p",{staticClass:"line"},[t._v(t._s(t.$t("adviceContent"))+"："+t._s(t.infoData.advcie.content))]),a("p",{staticClass:"line"},[t._v(t._s(t.$t("putType"))+"："+t._s(1===t.infoData.advcie.sendType?t.$t("putAdvice"):t.$t("complain")))]),t._l(t.infoData.adviceList,(function(e){return a("div",{staticClass:"line"},[1===e.contentType?a("p",{staticStyle:{color:"red"}},[t._v(t._s(t.$t("custReply"))+"："+t._s(e.content)),a("span",{staticStyle:{"margin-left":"20px"}},[t._v(t._s(t.$t("timeText"))+"："+t._s(e.createTime))])]):a("p",[t._v(t._s(t.$t("myReply"))+"："+t._s(e.content)),a("span",{staticStyle:{"margin-left":"20px"}},[t._v(t._s(t.$t("timeText"))+"："+t._s(e.createTime))])])])}))],2),a("p",{staticClass:"line"},[a("el-input",{ref:"cont",staticClass:"cont",attrs:{type:"textarea",rows:7,placeholder:t.$t("putHint"),autofocus:!0},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogTableVisible=!1}}},[t._v(t._s(t.$t("cancel")))]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.sureBtn(1)}}},[t._v(t._s(t.$t("confirm")))])],1)]):t._e(),a("el-dialog",{staticClass:"sub-dialog",attrs:{title:t.title,visible:t.dialogShow,width:"40%","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogShow=e}}},[a("el-input",{ref:"cont",staticClass:"cont",attrs:{type:"textarea",rows:7,placeholder:t.$t("putHint"),autofocus:!0},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogShow=!1}}},[t._v(t._s(t.$t("cancel")))]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.sureBtn(!1)}}},[t._v(t._s(t.$t("confirm")))])],1)],1)],1)},n=[],i=a("2f62"),o=a("cb44"),l=a("9321");function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function r(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){d(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function d(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var u={data:function(){return{type:"",typeArr:[{value:"",label:this.$t("allStatus")},{value:1,label:this.$t("notReply")},{value:2,label:this.$t("replied")}],tableData:[],total:0,pageNumber:1,dialogShow:!1,title:this.$t("putAdvice"),content:"",typeSub:1,dialogTableVisible:!1,infoData:"",infoDataId:"",startTime:this.$dataJS.today()+" 00:00:00",endTime:this.$dataJS.today()+" 23:59:59"}},computed:r({},Object(i["b"])(["onOffBtn"])),components:{DateModule:o["a"],PageModule:l["a"]},mounted:function(){this.searchMethod()},methods:{searchMethod:function(t,e,a,s){var n=this;t&&(this.startTime=t),e&&(this.endTime=e),a&&(this.pageNumber=1);var i=[!0,200,null];s&&(i="");var o=new URLSearchParams;o.append("startTime",this.startTime),o.append("endTime",this.endTime),o.append("pageNumber",this.pageNumber),o.append("status",this.type),this.$axiosPack.post("/userCenter/advice/adviceList.do",{params:o,load:i}).then((function(t){if(t){for(var e=0;e<t.data.rows.length;e++)t.data.rows[e].typeTxt=1===t.data.rows[e].sendType?n.$t("putAdvice"):n.$t("complain"),t.data.rows[e].statusTxt=1===t.data.rows[e].status?n.$t("notReply"):n.$t("replied");n.tableData=t.data.rows,n.total=t.data.total}}))},handleClick:function(t){var e=this;console.log(t),this.infoDataId=t.id,this.dialogTableVisible=!0;var a=new URLSearchParams;a.append("adviceId",this.infoDataId),this.$axiosPack.post("/userCenter/advice/viewAdvice.do",{params:a,load:[!0,200,null]}).then((function(t){t&&(e.infoData=t.data)}))},subBtn:function(t,e){var a=this;this.title=t,this.dialogShow=!0,this.typeSub=e,this.$nextTick((function(){a.$refs.cont.$refs.textarea.focus()}))},sureBtn:function(t){var e=this,a="/userCenter/advice/saveAdvice.do";console.log(t),t&&(a="/userCenter/advice/updateAdvice.do");var s=new URLSearchParams;t?s.append("adviceId",this.infoDataId):s.append("sendType",this.typeSub),s.append("content",this.content),this.$axiosPack.post(a,{params:s,load:[!0,200,null]}).then((function(t){t&&(t.data.msg&&e.$notify({title:"success",message:t.data.msg,type:"success"}),e.dialogShow=!1,e.dialogTableVisible=!1,e.searchMethod(null,null,!0,!0))}))},goServer:function(){this.onOffBtn.kfUrl?location.href=this.onOffBtn.kfUrl:this.toastFun(this.$t("notSet"))}},watch:{dialogShow:function(){this.dialogShow||(this.content="")},dialogTableVisible:function(){this.dialogTableVisible||(this.content="")}}},p=u,h=(a("b7a2"),a("2877")),f=Object(h["a"])(p,s,n,!1,null,null,null);e["default"]=f.exports},b7a2:function(t,e,a){"use strict";var s=a("590e"),n=a.n(s);n.a},cb44:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dateModule"},[a("el-date-picker",{attrs:{type:"datetimerange",size:"small","start-placeholder":t.$t("startTime"),"end-placeholder":t.$t("endTime"),"default-time":["00:00:00","23:59:59"],editable:!1,clearable:!1,"popper-class":t.showClear?"showClear":""},model:{value:t.dataVal,callback:function(e){t.dataVal=e},expression:"dataVal"}}),t.fastBtn?a("el-button-group",{staticStyle:{"margin-left":"10px"}},[a("el-button",{attrs:{type:"success",size:"small"},on:{click:t.yesterday}},[t._v(t._s(t.$t("yesterday")))]),a("el-button",{attrs:{type:"success",size:"small"},on:{click:t.today}},[t._v(t._s(t.$t("today")))]),a("el-button",{attrs:{type:"success",size:"small"},on:{click:t.lastWeek}},[t._v(t._s(t.$t("lastWeek")))]),a("el-button",{attrs:{type:"success",size:"small"},on:{click:t.nowWeek}},[t._v(t._s(t.$t("nowWeek")))]),a("el-button",{attrs:{type:"success",size:"small"},on:{click:t.lastMonth}},[t._v(t._s(t.$t("lastMonth")))]),a("el-button",{attrs:{type:"success",size:"small"},on:{click:t.nowMonth}},[t._v(t._s(t.$t("nowMonth")))])],1):t._e(),a("el-button",{staticStyle:{"margin-left":"30px"},attrs:{type:"primary",size:"small",icon:"el-icon-search"},on:{click:t.search}},[t._v(t._s(t.$t("searchText")))])],1)},n=[],i={data:function(){return{dataVal:"/userList"==this.$route.path?"":[this.$dataJS.today()+" 00:00:00",this.$dataJS.today()+" 23:59:59"]}},props:{fastBtn:"",showClear:!1},computed:{},components:{},created:function(){console.log()},methods:{yesterday:function(){this.dataVal=[this.$dataJS.yesterdayStart()+" 00:00:00",this.$dataJS.yesterdayStart()+" 23:59:59"],this.search()},today:function(){this.dataVal=[this.$dataJS.today()+" 00:00:00",this.$dataJS.today()+" 23:59:59"],this.search()},lastWeek:function(){this.dataVal=[this.$dataJS.lastWeekStart()+" 00:00:00",this.$dataJS.lastWeekEnd()+" 23:59:59"],this.search()},nowWeek:function(){this.dataVal=[this.$dataJS.nowWeekStart()+" 00:00:00",this.$dataJS.nowWeekEnd()+" 23:59:59"],this.search()},lastMonth:function(){this.dataVal=[this.$dataJS.lastMonthStart()+" 00:00:00",this.$dataJS.lastMonthEnd()+" 23:59:59"],this.search()},nowMonth:function(){this.dataVal=[this.$dataJS.nowMonthStart()+" 00:00:00",this.$dataJS.nowMonthEnd()+" 23:59:59"],this.search()},search:function(){var t=this.dataVal[0],e=this.dataVal[1];t instanceof Date&&(t=this.$dataJS.dateChangeStr(this.dataVal[0]),e=this.$dataJS.dateChangeStr(this.dataVal[1])),this.dataVal?this.$emit("searchMethod",t,e,!0):this.$emit("searchMethod","","",!0)}},watch:{dataVal:function(){}}},o=i,l=(a("3109"),a("2877")),c=Object(l["a"])(o,s,n,!1,null,null,null);e["a"]=c.exports},d3e0:function(t,e,a){"use strict";var s=a("ebf9"),n=a.n(s);n.a},ebf9:function(t,e,a){}}]);