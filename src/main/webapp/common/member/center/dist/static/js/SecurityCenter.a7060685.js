(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["SecurityCenter"],{"35ec":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("el-card",{staticClass:"securityCenter-page"},[s("div",{staticClass:"con-header"},[s("div",{staticClass:"item header-left"},[s("el-progress",{attrs:{type:"circle",percentage:1===t.data.securityLevel?33:2===t.data.securityLevel?66:100,color:"#eb031c","stroke-width":10}}),s("div",{staticClass:"right"},[s("p",{staticClass:"grade"},[t._v(t._s(t.$t("securityLevel"))+"："),s("span",{staticStyle:{color:"red"}},[t._v(t._s(1===t.data.securityLevel?t.$t("low"):2===t.data.securityLevel?t.$t("middle"):t.$t("high")))])]),s("div",{staticClass:"score"},[s("span"),t.data.securityLevel>1?s("span"):t._e(),t.data.securityLevel>2?s("span"):t._e()])])],1),s("div",{staticClass:"item header-mid"},[s("div",[s("p",{staticClass:"title"},[t._v(t._s(t.$t("lastLoginTime")))]),s("p",[t._v(t._s(t.$t("loginTime")))]),s("p",[t._v(t._s(t.data.lastLoginTime))])])]),s("div",{staticClass:"item header-right"},[s("div",[s("p",{staticClass:"title"},[t._v(t._s(t.$t("lastLoginIp")))]),s("p",[t._v(t._s(t.$t("loginIp")))]),s("p",[t._v(t._s(t.data.lastLoginIp))])])])]),s("div",{staticClass:"con-list"},[s("el-card",{attrs:{shadow:"hover"}},[s("div",{staticClass:"item-icon"},[s("span",{staticClass:"iconfont iconyonghu"})]),s("div",{staticClass:"item-con"},[s("p",{staticClass:"name"},[t._v(t._s(t.$t("basicInfo")))]),s("p",{staticClass:"hint"},[t._v(t._s(t.$t("realNameHint")))])]),s("div",{staticClass:"item-btn"},[t.data.hasRealName?s("el-button",{attrs:{type:"success"},on:{click:function(a){t.infoShow=!0}}},[t._v(t._s(t.$t("look")))]):s("el-button",{attrs:{type:"primary"},on:{click:function(a){t.setFun(t.$t("realName"))}}},[t._v(t._s(t.$t("set")))])],1)]),t.onOffBtn.isUserResetPwd?s("el-card",{attrs:{shadow:"hover"}},[s("div",{staticClass:"item-icon"},[s("span",{staticClass:"iconfont iconmima"})]),s("div",{staticClass:"item-con"},[s("p",{staticClass:"name"},[t._v(t._s(t.configJsFlag("loginPwd")))]),s("p",{staticClass:"hint"},[t._v(t._s(t.$t("loginPwdHint")))])]),s("div",{staticClass:"item-btn"},[s("el-button",{attrs:{type:"danger"},on:{click:function(a){t.editFun(t.$t("loginPwd"),1)}}},[t._v(t._s(t.$t("edit")))])],1)]):t._e(),s("el-card",{attrs:{shadow:"hover"}},[s("div",{staticClass:"item-icon"},[s("span",{staticClass:"iconfont iconmima1"})]),s("div",{staticClass:"item-con"},[s("p",{staticClass:"name"},[t._v(t._s(t.$t("withdrawPwd")))]),s("p",{staticClass:"hint"},[t._v(t._s(t.$t("okPwdHint")))])]),s("div",{staticClass:"item-btn"},[t.data.hasWithdrawalPassword?s("el-button",{attrs:{type:"danger"},on:{click:function(a){t.editFun(t.$t("withdrawPwd"),2)}}},[t._v(t._s(t.$t("edit")))]):s("el-button",{attrs:{type:"primary"},on:{click:function(a){t.setFun(t.$t("withdrawPwd"),2)}}},[t._v(t._s(t.$t("set")))])],1)]),t.onOffBtn.onOffCommunication?[s("el-card",{attrs:{shadow:"hover"}},[s("div",{staticClass:"item-icon"},[s("span",{staticClass:"iconfont iconshouji"})]),s("div",{staticClass:"item-con"},[s("p",{staticClass:"name"},[t._v(t._s(t.$t("phone")))]),s("p",{staticClass:"hint"},[t._v(t._s(t.$t("phoneHint")))])]),s("div",{staticClass:"item-btn"},[t.data.hasPhone?t.onOffBtn.cantUpdContact?t._e():s("el-button",{attrs:{type:"danger"},on:{click:function(a){t.editFun(t.$t("phone"),"phone")}}},[t._v(t._s(t.$t("edit")))]):s("el-button",{attrs:{type:"primary"},on:{click:function(a){t.setFun(t.$t("phone"),"phone")}}},[t._v(t._s(t.$t("set")))])],1)]),s("el-card",{attrs:{shadow:"hover"}},[s("div",{staticClass:"item-icon"},[s("span",{staticClass:"iconfont iconyouxiang"})]),s("div",{staticClass:"item-con"},[s("p",{staticClass:"name"},[t._v(t._s(t.$t("email")))]),s("p",{staticClass:"hint"},[t._v(t._s(t.$t("emailHine")))])]),s("div",{staticClass:"item-btn"},[t.data.hasEmail?t.onOffBtn.cantUpdContact?t._e():s("el-button",{attrs:{type:"danger"},on:{click:function(a){t.editFun(t.$t("email"),"email")}}},[t._v(t._s(t.$t("edit")))]):s("el-button",{attrs:{type:"primary"},on:{click:function(a){t.setFun(t.$t("email"),"email")}}},[t._v(t._s(t.$t("set")))])],1)]),s("el-card",{attrs:{shadow:"hover"}},[s("div",{staticClass:"item-icon"},[s("span",{staticClass:"iconfont iconline-fill"})]),s("div",{staticClass:"item-con"},[s("p",{staticClass:"name"},[t._v("LINE")]),s("p",{staticClass:"hint"},[t._v(t._s(t.$t("LINEHint")))])]),s("div",{staticClass:"item-btn"},[t.data.hasLine?t.onOffBtn.cantUpdContact?t._e():s("el-button",{attrs:{type:"danger"},on:{click:function(a){return t.editFun("LINE","line")}}},[t._v(t._s(t.$t("edit")))]):s("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.setFun("LINE","line")}}},[t._v(t._s(t.$t("set")))])],1)]),s("el-card",{attrs:{shadow:"hover"}},[s("div",{staticClass:"item-icon"},[s("span",{staticClass:"iconfont iconQQ"})]),s("div",{staticClass:"item-con"},[s("p",{staticClass:"name"},[t._v("QQ")]),s("p",{staticClass:"hint"},[t._v(t._s(t.$t("qqHint")))])]),s("div",{staticClass:"item-btn"},[t.data.hasQQ?t.onOffBtn.cantUpdContact?t._e():s("el-button",{attrs:{type:"danger"},on:{click:function(a){return t.editFun("QQ","qq")}}},[t._v(t._s(t.$t("edit")))]):s("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.setFun("QQ","qq")}}},[t._v(t._s(t.$t("set")))])],1)]),s("el-card",{attrs:{shadow:"hover"}},[s("div",{staticClass:"item-icon"},[s("span",{staticClass:"iconfont iconfacebook"})]),s("div",{staticClass:"item-con"},[s("p",{staticClass:"name"},[t._v("Facebook")]),s("p",{staticClass:"hint"},[t._v(t._s(t.$t("facebookHint")))])]),s("div",{staticClass:"item-btn"},[t.data.hasFacebook?t.onOffBtn.cantUpdContact?t._e():s("el-button",{attrs:{type:"danger"},on:{click:function(a){return t.editFun("Facebook","facebook")}}},[t._v(t._s(t.$t("edit")))]):s("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.setFun("Facebook","facebook")}}},[t._v(t._s(t.$t("set")))])],1)])]:t._e()],2),s("el-dialog",{staticClass:"info-dialog",attrs:{title:t.$t("infoLook"),visible:t.infoShow,width:"40%"},on:{"update:visible":function(a){t.infoShow=a}}},[t.data.userData?s("div",{staticClass:"cont"},[s("div",{staticClass:"item"},[s("p",{staticClass:"name"},[t._v(t._s(t.$t("realName"))+"：")]),t.data.userData.realName?s("p",{staticClass:"val"},[t._v(t._s(t.data.userData.realName))]):t._e()]),s("div",{staticClass:"item"},[s("p",{staticClass:"name"},[t._v(t._s(t.$t("phone"))+"：")]),t.data.userData.phone?s("p",{staticClass:"val"},[t._v(t._s(t.data.userData.phone))]):t._e()]),s("div",{staticClass:"item"},[s("p",{staticClass:"name"},[t._v(t._s(t.$t("email"))+"：")]),t.data.userData.email?s("p",{staticClass:"val"},[t._v(t._s(t.data.userData.email))]):t._e()]),s("div",{staticClass:"item"},[s("p",{staticClass:"name"},[t._v(t._s(t.$t("line"))+"：")]),t.data.userData.line?s("p",{staticClass:"val"},[t._v(t._s(t.data.userData.line))]):t._e()]),s("div",{staticClass:"item"},[s("p",{staticClass:"name"},[t._v("QQ：")]),t.data.userData.qq?s("p",{staticClass:"val"},[t._v(t._s(t.data.userData.qq))]):t._e()]),s("div",{staticClass:"item"},[s("p",{staticClass:"name"},[t._v("facebook：")]),t.data.userData.facebook?s("p",{staticClass:"val"},[t._v(t._s(t.data.userData.facebook))]):t._e()])]):t._e()]),s("el-dialog",{staticClass:"edit-dialog",attrs:{title:t.$t("edit")+t.dialogTxt,visible:t.editShow,width:"50%"},on:{"update:visible":function(a){t.editShow=a}}},[s("div",{staticClass:"cont"},[s("div",{staticClass:"item"},[s("p",{staticClass:"name"},[t._v(t._s(t.$t("inputOld")+t.dialogTxt)+"：")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.oldContact,expression:"oldContact"}],staticClass:"val",attrs:{type:"text"},domProps:{value:t.oldContact},on:{input:function(a){a.target.composing||(t.oldContact=a.target.value)}}})]),s("div",{staticClass:"item"},[s("p",{staticClass:"name"},[t._v(t._s(t.$t("inputNew")+t.dialogTxt)+"：")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newContact,expression:"newContact"}],staticClass:"val",attrs:{type:"text"},domProps:{value:t.newContact},on:{input:function(a){a.target.composing||(t.newContact=a.target.value)}}})]),s("div",{staticClass:"item"},[s("p",{staticClass:"name"},[t._v(t._s(t.$t("inputReNew")+t.dialogTxt)+"：")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.reNewData,expression:"reNewData"}],staticClass:"val",attrs:{type:"text"},domProps:{value:t.reNewData},on:{input:function(a){a.target.composing||(t.reNewData=a.target.value)}}})])]),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:t.clearFun}},[t._v(t._s(t.$t("reset")))]),s("el-button",{attrs:{type:"primary"},on:{click:t.sureEditFun}},[t._v(t._s(t.$t("confirm")))])],1)])],1)},i=[],n=s("2f62");function o(t,a){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);a&&(e=e.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),s.push.apply(s,e)}return s}function c(t){for(var a=1;a<arguments.length;a++){var s=null!=arguments[a]?arguments[a]:{};a%2?o(Object(s),!0).forEach((function(a){l(t,a,s[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))}))}return t}function l(t,a,s){return a in t?Object.defineProperty(t,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[a]=s,t}var r={data:function(){return{data:"",infoShow:!1,editShow:!1,dialogTxt:"",newContact:"",oldContact:"",reNewData:"",type:""}},computed:c(c({},Object(n["b"])(["onOffBtn"])),{},{configJs:function(){return this.$store.state.configJs}}),components:{},mounted:function(){this.getSecurityInfo()},methods:{getSecurityInfo:function(){var t=this;this.$axiosPack.post("/userCenter/getSecurityInfo.do",{load:[!0,200,null]}).then((function(a){a&&(t.data=a.data)}))},setFun:function(t,a){var s=this;this.type=a;var e="";e=t===this.$t("email")?/[\w!#$%&'*+/=?^_`{|}~-]+(?:\.[\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?/:t===this.$t("withdrawPwd")?/^[a-zA-Z0-9]{4,20}$/:/\S/,this.$prompt(this.$t("pleaseInput")+t,t+" "+this.$t("setText"),{confirmButtonText:this.$t("confirm"),cancelButtonText:this.$t("cancel"),inputPattern:e,inputErrorMessage:t+this.$t("formatRrror")}).then((function(a){var e=a.value;t===s.$t("realName")?s.updateRealName(e):t===s.$t("withdrawPwd")?s.userPwdModifySave(e):s.updateSecurityInfo(e)})).catch((function(){}))},updateRealName:function(t){var a=this,s=new URLSearchParams;s.append("realName",t),this.$axiosPack.post("/userCenter/updateRealName.do",{params:s}).then((function(t){t&&(a.$successFun(t.data.msg),a.getSecurityInfo())}))},editFun:function(t,a){this.dialogTxt=t,this.editShow=!0,this.type=a},clearFun:function(){this.newContact="",this.oldContact="",this.reNewData=""},sureEditFun:function(){this.oldContact?this.newContact?this.reNewData?this.newContact!==this.reNewData?this.toastFun(this.$t("twoInput")+this.dialogTxt+this.$t("notSame")):this.dialogTxt===this.$t("loginPwd")||this.dialogTxt===this.$t("withdrawPwd")?this.userPwdModifySave():this.updateSecurityInfo():this.toastFun(this.$t("reNewText")+this.dialogTxt+this.$t("canNotEmpty")):this.toastFun(this.$t("newText")+this.dialogTxt+this.$t("canNotEmpty")):this.toastFun(this.$t("oldText")+this.dialogTxt+this.$t("canNotEmpty"))},userPwdModifySave:function(t){var a=this,s=new URLSearchParams;t?(s.append("oldPwd",""),s.append("newPwd",t),s.append("okPwd",t)):(s.append("oldPwd",this.oldContact),s.append("newPwd",this.newContact),s.append("okPwd",this.reNewData)),s.append("type",this.type),this.$axiosPack.post("/userCenter/userPwdModifySave.do",{params:s,load:[!0,null,this.$t("submiting")]}).then((function(t){t&&(a.getSecurityInfo(),a.$successFun(t.data.msg),a.editShow=!1)}))},updateSecurityInfo:function(t){var a=this,s=new URLSearchParams;t?(s.append("oldContact",""),s.append("newContact",t)):(s.append("oldContact",this.oldContact),s.append("newContact",this.newContact)),s.append("type",this.type),this.$axiosPack.post("/userCenter/updateSecurityInfo.do",{params:s,load:[!0,null,this.$t("submiting")]}).then((function(t){t&&(a.getSecurityInfo(),a.$successFun(t.data.msg),a.editShow=!1)}))}},watch:{editShow:function(){this.editShow||this.clearFun()}}},d=r,u=(s("887c"),s("2877")),p=Object(u["a"])(d,e,i,!1,null,null,null);a["default"]=p.exports},"5ab0":function(t,a,s){},"887c":function(t,a,s){"use strict";var e=s("5ab0"),i=s.n(e);i.a}}]);